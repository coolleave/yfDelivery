(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/heroscreen/quick"],{49:function(n,e,i){"use strict";(function(n,e){var o=i(4);i(26);o(i(25));var t=o(i(50));n.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i(1)["default"],i(2)["createPage"])},50:function(n,e,i){"use strict";i.r(e);var o=i(51),t=i(53);for(var u in t)["default"].indexOf(u)<0&&function(n){i.d(e,n,(function(){return t[n]}))}(u);i(55);var c,r=i(32),a=Object(r["default"])(t["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);a.options.__file="pages/heroscreen/quick.vue",e["default"]=a.exports},51:function(n,e,i){"use strict";i.r(e);var o=i(52);i.d(e,"render",(function(){return o["render"]})),i.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),i.d(e,"components",(function(){return o["components"]}))},52:function(n,e,i){"use strict";var o;i.r(e),i.d(e,"render",(function(){return t})),i.d(e,"staticRenderFns",(function(){return c})),i.d(e,"recyclableRender",(function(){return u})),i.d(e,"components",(function(){return o}));try{o={uniNumberBox:function(){return i.e("components/uni-number-box/uni-number-box").then(i.bind(null,163))},uniPopup:function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,170))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var t=function(){var n=this,e=n.$createElement;n._self._c},u=!1,c=[];t._withStripped=!0},53:function(n,e,i){"use strict";i.r(e);var o=i(54),t=i.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){i.d(e,n,(function(){return o[n]}))}(u);e["default"]=t.a},54:function(n,e,i){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,u=function(){i.e("components/jsfun-picker/jsfun-picker").then(function(){return resolve(i(177))}.bind(null,i)).catch(i.oe)},c=function(){i.e("components/uni-number-box/uni-number-box").then(function(){return resolve(i(163))}.bind(null,i)).catch(i.oe)},r=function(){i.e("components/uni-popup/uni-popup").then(function(){return resolve(i(170))}.bind(null,i)).catch(i.oe)},a=function(){i.e("components/xuan-popup/xuan-popup").then(function(){return resolve(i(156))}.bind(null,i)).catch(i.oe)},s={components:{jsfunPicker:u,uniNumberBox:c,uniPopup:r,mpopup:a},data:function(){return{formid:"",array:[],index:0,array2:[],index2:0,array3:[],index3:0,priceList:[],index4:0,sender:"",sendphone:"",sendidcard:"",sendprovince:"",sendcity:"",sendcounty:"",senddetailaddress:"",recipient:"",recphone:"",recprovince:"",reccity:"",reccounty:"",recdetailaddress:"",offerprice:"",offerprices:0,kuaidishuo:"",yunfei:"0",yujidaoda:"--",wupinleix:"",wupinkg:"",jijianleix:"",fukuanleix:"",wangdianleix:"",jijiandizhi:"",shoudandizhi:"",weizhi:"",gogalprice:"",xuzhong:"",yunfei2:"",gogalprice2:"",bianhao:"",braidd:"",renzheng:"",kuaijian:0}},onLoad:function(e){t=this,t.renzheng=getApp().globalData.renzheng,t.sendidcard=getApp().globalData.renid,this.getItemtypeAll(),this.getExpresstypeAll(),this.getPaymethodAll(),this.weizhi=e.weizhi,n.$on("listenSon",(function(n){t.sender=n})),n.$on("listenSon2",(function(n){t.sendphone=n})),n.$on("listenSon3",(function(n){t.sendprovince=n})),n.$on("listenSon4",(function(n){t.sendcity=n})),n.$on("listenSon5",(function(n){t.sendcounty=n})),n.$on("listenSon6",(function(n){t.senddetailaddress=n})),n.$on("listenSon7",(function(n){t.jijiandizhi=n})),n.$on("listenSon11",(function(n){t.recipient=n})),n.$on("listenSon21",(function(n){t.recphone=n})),n.$on("listenSon31",(function(n){t.recprovince=n})),n.$on("listenSon41",(function(n){t.reccity=n})),n.$on("listenSon51",(function(n){t.reccounty=n})),n.$on("listenSon61",(function(n){t.recdetailaddress=n})),n.$on("listenSon71",(function(n){t.shoudandizhi=n})),n.$on("listenSonbaojia",(function(n){t.offerprice=n})),n.$on("listenSonbaojia2",(function(n){t.offerprices=n})),this.weizhiwangdain()},onShow:function(){this.baojiapay(),t.gogalprice=Number(t.yunfei)+Number(t.offerprices)+Number(t.kuaijian)},methods:{getFormid:function(n){console.log(n.detail.formId),t.formid=n.detail.formId},tijiiaoxiadan:function(){""==t.renzheng?this.$refs.mpopup.open({type:"warn",content:"请先进行实名认证",timeout:2500,isClick:!1}):""==t.jijiandizhi||""==t.shoudandizhi?this.$refs.mpopup.open({type:"warn",content:"请填写完信息在下单",timeout:2500,isClick:!1}):"微信支付"==t.fukuanleix?(console.log("微信支付"),0==t.gogalprice?t.gogalprice2=t.yunfei:t.gogalprice2=Number(t.yunfei)+Number(t.gogalprice),t.bianhao="YF"+parseInt(1e4*(9*Math.random()+1)),o.cloud.init(),o.cloud.callFunction({name:"mysql-insertexpress",data:{expnum:t.bianhao,custrank:"普通客户",braid:t.braidd,sender:t.sender,sendphone:t.sendphone,sendidcard:t.sendidcard,sendprovince:t.sendprovince,sendcity:t.sendcity,sendcounty:t.sendcounty,senddetailaddress:t.jijiandizhi,recipient:t.recipient,recphone:t.recphone,recprovince:t.recprovince,reccity:t.reccity,reccounty:t.reccounty,recdetailaddress:t.shoudandizhi,itemtype:t.wupinleix,itemweight:t.wupinkg,offerprice:t.offerprice,offerprices:t.offerprices,paytype:t.fukuanleix,exptype:t.jijianleix,expremark:t.kuaidishuo,expprice:t.yunfei,gogalprice:t.gogalprice2,expstate:0},success:function(e){t.$refs.mpopup.open({type:"success",content:"订单已完成",timeout:2500,isClick:!1});var i=t.formid;o.cloud.init(),o.cloud.callFunction({name:"mysql-push",data:{formId:i,shifa:t.sendcity+t.sendcounty,mudi:t.reccity+t.reccounty,yundanhao:t.bianhao,yunf:t.gogalprice2},success:function(n){console.log(n)}}),setTimeout((function(){n.redirectTo({url:"yundanxinxi"})}),2500)}})):console.log("现付")},baojiapay:function(){o.cloud.init(),o.cloud.callFunction({name:"mysql-offerselect",data:{sendprovince:t.sendprovince,recprovince:t.recprovince},success:function(n){t.xuzhong=n.result[0].offerprice2,t.yunfei=n.result[0].offerprice,t.yunfei2=n.result[0].offerprice,t.yujidaoda=n.result[0].offerday}})},weizhiwangdain:function(){""==t.weizhi?(o.cloud.init(),o.cloud.callFunction({name:"mysql-branchselectAll",success:function(n){t.array3=n.result}})):(o.cloud.init(),o.cloud.callFunction({name:"mysql-branchselect",data:{braname:t.weizhi},success:function(n){t.array3=n.result}}))},openPopup:function(){this.$refs.popup.open()},closePopup:function(){this.$refs.popup.close(),t.kuaidishuo=""},closePopup2:function(){this.$refs.popup.close()},baojiaclick:function(){t.yunfei="0",n.navigateTo({url:"zengzhi"})},bindNumberChange:function(n){t.yunfei=1==n?Number(t.yunfei2)+Number(t.kuaijian):(n-1)*t.xuzhong+Number(t.yunfei2)+Number(t.kuaijian),t.wupinkg=n},bindPickerChange:function(n){t.index=n.target.value,t.jijianleix=t.array[n.target.value].exptype,"加急件"==t.jijianleix?(t.kuaijian=5,t.yunfei=Number(t.yunfei)+Number(t.kuaijian),t.yujidaoda=Number(t.yujidaoda)-1):(t.kuaijian=0,t.yujidaoda=Number(t.yujidaoda)+1,t.yunfei=Number(t.yunfei)+Number(t.kuaijian)-5)},bindfukuanChange:function(n){t.index2=n.target.value,t.fukuanleix=t.array2[n.target.value].paytype},bindwangdianChange:function(n){t.index3=n.target.value,t.wangdianleix=t.array3[n.target.value].braname,o.cloud.init(),o.cloud.callFunction({name:"mysql-selectbranchBraid",data:{wangdianleix:t.wangdianleix},success:function(n){console.log(n),t.braidd=n.result[0].braid}})},jijian:function(){n.navigateTo({url:"../heroscreen/editjiaddress"})},shoujian:function(){n.navigateTo({url:"../heroscreen/editshouaddress"})},priceChange:function(n){t.index4=n.target.value,t.wupinleix=t.priceList[n.target.value].itemtype},getItemtypeAll:function(){console.log("物品类型"),o.cloud.init(),o.cloud.callFunction({name:"mysql-itemtypeselect",success:function(n){t.priceList=n.result}})},getExpresstypeAll:function(){o.cloud.init(),o.cloud.callFunction({name:"expresstype",success:function(n){console.log(n),t.array=n.result}})},getPaymethodAll:function(){o.cloud.init(),o.cloud.callFunction({name:"mysql-paymethod",success:function(n){console.log(n),t.array2=n.result}})}}};e.default=s}).call(this,i(2)["default"],i(1)["default"])},55:function(n,e,i){"use strict";i.r(e);var o=i(56),t=i.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){i.d(e,n,(function(){return o[n]}))}(u);e["default"]=t.a},56:function(n,e,i){}},[[49,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/heroscreen/quick.js.map